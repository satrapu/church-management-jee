<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:my="http://java.sun.com/jsf/composite/components">
    <composite:interface>
        <composite:attribute name="componentId" required="true"/>
        <composite:attribute name="value" required="true"/>
        <composite:attribute name="label" required="true"/>
        <composite:attribute name="required" required="false" default="false"/>
    </composite:interface>
    <composite:implementation>
        <my:editorContainer componentId="#{cc.attrs.componentId}"
                            value="#{cc.attrs.value}"
                            label="#{cc.attrs.label}"
                            required="#{cc.attrs.required}">
            <p:inputText id="#{cc.attrs.componentId}"
                         value="#{cc.attrs.value}"
                         required="#{cc.attrs.required}"
                         requiredMessage="#{msg['global.fields.required']}"
                         styleClass="#{not component.valid ? 'invalid' : ''}">
                <p:ajax event="blur"
                        immediate="true"
                        update="#{cc.attrs.componentId}Editor"/>
            </p:inputText>
        </my:editorContainer>
    </composite:implementation>
</html>